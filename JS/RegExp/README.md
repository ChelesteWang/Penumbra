# 正则表达式Review

## 关键字

### 元字符与修饰符

| 字符     |                    指代                    |
| -------- | :----------------------------------------: |
| .        |              除了\n以外的字符              |
| \w       |           字母/数字/下划线/汉字            |
| \s       |                  任意空白                  |
| \d       |                    数字                    |
| \b       |               声明开始/结束                |
| ^        |              从行首位开始匹配              |
| $        |              在行尾部停止匹配              |
| +        |                  出现1次                   |
| ?        |                 出现0/1次                  |
| {n}      |                  出现n次                   |
| {n,m}    |                 出现n~m次                  |
| {n,}     |                 出现>=n次                  |
| *        |                   任意次                   |
| []       |                   字符集                   |
| ()       |                   字符组                   |
| \|       |                  分支结构                  |
| \        |                   转义符                   |
| \W       | 匹配任意不是字母，数字，下划线，汉字的字符 |
| \S       |          匹配任意不是空白符的字符          |
| \D       |            匹配任意非数字的字符            |
| \B       |        匹配不是单词开头或结束的位置        |
| [^x]     |          匹配除了x以外的任意字符           |
| [^abcde] |   匹配除了abcde这几个字母以外的任意字符    |
| i        |                不区分大小写                |
| g        |                    全局                    |
| m        |                  多行匹配                  |



## 执行方法

> pattern为RegExp对象

| 用法                                | 说明                                                    | 返回值                                |
| ----------------------------------- | ------------------------------------------------------- | ------------------------------------- |
| `pattern.test(str)`                 | 判断`str`是否包含匹配结果                               | 包含返回`true`，不包含返回`false`。   |
| `pattern.exec(str)`                 | 根据`pattern`对`str`进行正则匹配                        | 返回匹配结果数组,如匹配不到返回`null` |
| `str.match(pattern)`                | 根据`pattern`对str进行正则匹配                          | 返回匹配结果数组,如匹配不到返回`null` |
| `str.replace(pattern, replacement)` | 根据`pattern`进行正则匹配,把匹配结果替换为`replacement` | 一个新的字符串                        |

### 说明

- 分组

  `(x)`表示匹配x并捕获匹配项，会消耗性能，推荐使用`(?:x)`

## 常用

- **正整数**: `^\d+$`
- **负整数**: `^-\d+$`
- **电话号码**: `^+?[\d\s]{3,}$`
- **整数**: `^-?\d+$`
- **用户名**: `^[\w\d_.]{4,16}$`
- **字母数字字符**: `^[a-zA-Z0-9]*$`
- **带空格的字母数字字符**: `^[a-zA-Z0-9 ]*$`
- **密码**: `^(?=^.{6,}$)((?=.*[A-Za-z0-9])(?=.*[A-Z])(?=.*[a-z]))^.*$`
- **电子邮件**: `^([a-zA-Z0-9._%-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4})*$`
- **IPv4 地址**: `^((?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?))*$`
- **小写字母**: `^([a-z])*$`
- **大写字母**: `^([A-Z])*$`
- **网址**: `^(((http|https|ftp):\/\/)?([[a-zA-Z0-9]\-\.])+(\.)([[a-zA-Z0-9]]){2,4}([[a-zA-Z0-9]\/+=%&_\.~?\-]*))*$`
- **日期 (MM/DD/YYYY)**: `^(0?[1-9]|1[012])[- /.](0?[1-9]|[12][0-9]|3[01])[- /.](19|20)?[0-9]{2}$`
- **日期 (YYYY/MM/DD)**: `^(19|20)?[0-9]{2}[- /.](0?[1-9]|1[012])[- /.](0?[1-9]|[12][0-9]|3[01])$`

- 格式化数字

  ```js
  let test1 = '1234567890'
  let format = test1.replace(/\B(?=(\d{3})+(?!\d))/g, ',')
  
  console.log(format) // 1,234,567,890
  ```

  > 1. `/\B(?=(\d{3})+(?!\d))/g`：正则匹配边界`\B`，边界后面必须跟着`(\d{3})+(?!\d)`;
  > 2. `(\d{3})+`：必须是1个或多个的3个连续数字;
  > 3. `(?!\d)`：第2步中的3个数字不允许后面跟着数字;
  > 4. `(\d{3})+(?!\d)`：所以匹配的边界后面必须跟着`3*n`（n>=1）的数字

- 去掉字符串两边空格

  ```js
  function trim(str) {
      return str.replace(/(^\s*)|(\s*$)/g, "")
  }
  
  let str = "  jaw il "
  console.log(trim(str)) // "jaw il"
  ```